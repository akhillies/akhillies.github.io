<!DOCTYPE html>
<html lang="en">
    <head>
        <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
        <meta content="utf-8" http-equiv="encoding"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.2/jquery.mobile.min.css" />
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet"/>
        <link href="https://fonts.googleapis.com/css?family=Lato:300" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" type="text/css" href="./assignment2/display02.css"/>

        <title>Ray Tracer</title>
    </head>
    <body>
    <div class="as2">
        <div class="container-fluid">
            <h1 class="bigManTitle"><strong>Ray Tracer</strong></h1>
            <p class="lead intro">And now onto the beg one - the ray tracer. This was probably by far the most frustrating project I have worked on till date. However, ray tracing, like shading, is one of the core things every graphics person, whether they are computer science or not, needs to know, so naturally I made my valiant attempt. The concept of a ray tracer is quite simple - it is literally just a "ray" of light that is bounced around the scene to create the image. The hard part comes when you really want to apply it to something; and programming it get really complicated, especially when you add in shadows, reflections, and many, many more things. This program was written from complete scratch: no template, no real instructions, and no specific goals in mind except build a ray tracer. I simply went with the flow and added things that I thought would look awesome. Features I added include a basic shadow tracer and reflection tracer, as can be seen in the example output images seen below. This project was also done without the use of any libraries (I even wrote my own Matrix and Vector classes with all the necessary functions) except for FreeImage which was used to convert the PPM file generated by the code into a PNG file. I will post the <a href="README">README file</a> so you can see what features I implemented. Any questions you have about this project are welcome - just email me at<a href="mailto:akhilbatra@berkeley.edu"> akhilbatra@berkeley.edu</a>.</p>
            <br/>
            <a href="#"><h2 class="commentTitle">Personal Comments/Response</h2></a>
            <p class="lead myComments">So this project was definitely the hardest I have ever done - as I mentioned before - and it is also one of those projects that I started thinking it would be a quick one I could finish in a week at most and ended up barely finishing after 2 weeks of struggling. If there was one thing I learned from this project, it is to better judge my time predictions and make sure I have all the research done before making any judgement calls - I assumed that since ray tracer is a really simple concept that coding it would be simple...I could not have been more wrong. In general, this project had a lot of things that just asked for more time. For example, I decided not to use any pre-made libraries in an attempt to completely and thoroughly understand the math and code behind the scenes. However this meant taking extra time to learn about the workings of mathematical concepts like matrices and how to actually code a class that can do things like find the determinant and matrix multiplication. In the end, I do not regret doing this project, the only problem I had was I could not add anything extra in the time I allotted to myself to work on this project. But hey, maybe I will find time to come back to it and work out some cool extra features!</p>
            <br/><br/>
            <div class="row">
                <div class="titleChoice">Pick one of the following milestones I had in this project:</div>
                <div class="choices">
                    <div class="row">
                        <div class="col-xs-2"></div>
                        <div class="col-xs-4">
                            <button class="step1">Basic Raytracer with Shadows /Reflections</button>
                        </div>
                        <div class="col-xs-4">
                            <button class="step2">Greater Depth of Reflections</button>
                        </div>
                        <div class="col-xs-2"></div>
                    </div>
                    <div class="row">
                        <div class="col-xs-2"></div>
                        <div class="col-xs-4">
                            <button class="step25">Adding in Transformations</button>
                        </div>
                        <div class="col-xs-4">
                            <button class="screwups">And some mistakes made along the way</button>
                        </div>
                        <div class="col-xs-2"></div>
                    </div>
                </div>
                <div class="pic pic1">
                    Basic ray tracing with reflection of one depth and shadows. There are two directional lights in this image as well as diffuse, specular, and ambient shading for each object. Surprisingly enough, this was not the hardest part of the project.
                    <br/>
                    <a href="objFiles/stepOne.obj">This</a> is the file the program was run with.<br/>
                     <img class="img-responsive center-block" src="./assignment2/outputImages/stepOne.png" alt="First-step image could not load"/>
                </div>
                <div class="pic pic2">
                    This ray tracing has a reflection depth much greater than the last one and the reflection rays wither away each time it is reflected off an object - the rest works the same as the first milestone. This was the easiest part of the project to achieve.<br/>
                    <a href="objFiles/stepTwo.obj">This</a> is the file the program was run with<br/>
                    <img class="img-responsive center-block" src="./assignment2/outputImages/stepTwo.png" alt="Second-step image could not load"/>
                </div>
                <div class="pic pic25">
                    This ray tracer image has transformations - including rotations, scaling, and translations - implemented along with everything else. This was by far the hardest part to finish and therefore the most rewarding. It also took forever to render.<br/>
                    <a href="objFiles/stepThree.obj">This</a> is the file the program was run with.<br/>
                    <img class="img-responsive center-block" src="./assignment2/outputImages/stepTwoHalf.png" alt="Second-to-third-step image could not load"/>
                </div>
                <div class="pic picMis">
                    <div class="container-fluid">
                        <div class="row">
                            Attempts with making the whole ray tracer work in object space rather than world space... pretty good, don't you think? If you put them together, it would look perfect!!! (or so my mind was thinking after the computer spent over 5 minutes rendering these images)
                            <div class="col-xs-6">
                                <img class="img-responsive center-block" src="./assignment2/outputImages/stepThree-ish.png" alt="Third-step image could not load"/>
                            </div>
                            <div class="col-xs-6">
                                <img class="img-responsive center-block" src="./assignment2/outputImages/out.png" alt="Image could not load"/>
                            </div>
                        </div>
                        <br/><br/><br/><br/><br/>
                        <div class="row">
                            Supposedly, these two images were made by the same problem... and the same fix (had to do with not having a max of 255 on the limit of pixel RGB values). But I am not exactly sure why they are different since it was the same code that generated both - it must have something to do with how FreeImage handles pixels with weird RGB values.
                            <div class="col-xs-6">
                                <img class="img-responsive center-block" src="./assignment2/outputImages/z_noMax255.png" alt="Failed attempt 1 could not load"/>
                            </div>
                            <div class="col-xs-6">
                                <img class="img-responsive center-block" src="./assignment2/outputImages/z_noMax255again.png" alt="The failed attempt 2 image failed to load."/>
                            </div>
                        </div>
                        <br/><br/><br/>
                        <div class="row">
                            This one was just a "small" mistake with a quick fix: I did not normalize any of the vectors used for the diffuse constant and that plus FreeImage's weird way of dealing with RGB values not between 0 and 255 gave me this... Looks like a contour map though doesn't it? I thought for a moment that I would try to go somewhere with this but in the end I did not have the time.
                            <img class="img-responsive center-block" src="./assignment2/outputImages/z_noNormalingDiffConst.png" alt="Failure image that failed to load"/>
                        </div>
                        <br/><br/><br/>
                        <div class="row">
                            So this might just looks like a halo (which is really awesome on its own) but this was done with only specular shading. That was super surprising for me since it got a pretty good shading that has a kind of shadow all around it just making it look that much more supernatural.
                            <img class="img-responsive center-block" src="./assignment2/outputImages/z_specScrewup.png" alt="Here is an image that did to load"/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.2/jquery.mobile.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="./assignment2/display02.js"></script>
    </body>
</html>
